{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///C:/works/documents/ohbug/packages/ohbug-extension-perfume/dist/ohbug-extension-perfume.esm.js","webpack:///C:/works/documents/ohbug/packages/ohbug-extension-rrweb/dist/ohbug-extension-rrweb.esm.js","webpack:///./src/scripts/init.js","webpack:///./src/scripts/event.js","webpack:///C:/works/documents/ohbug/packages/ohbug-browser/dist/ohbug-browser.esm.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","isString","isObject","toString","Action","message","type","timestamp","this","Date","toISOString","Event","values","client","apiKey","appVersion","appType","releaseStage","category","detail","device","user","actions","metaData","_client","configurable","addAction","_a","action","_config","maxActions","getUser","setUser","keys","assign","_logger","warn","Error","JSON","stringify","addMetaData","section","map","set","getMetaData","deleteMetaData","delete","toJSON","fromEntries","eventsMatrix","extension","init","record","emit","event","isCheckout","checkoutEveryNms","created","len","events","concat","Ohbug","endpoint","notified","console","log","use","ohbugPluginRrweb","document","querySelector","addEventListener","e","history","pushState","foo","location","hash","Promise","reject","fetch","body","a","cache","credentials","method","redirect","referrer","then","response","json","axios","post","firstName","lastName","ws","WebSocket","onopen","send","onmessage","onerror","onclose","img","createElement","src","appendChild","__awaiter","thisArg","_arguments","P","generator","resolve","step","next","rejected","done","__generator","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","__spreadArrays","il","arguments","Array","k","jl","__spreadArrays$1","isFunction","schema","defaultValue","undefined","validate","Boolean","parseInt","isNumber","logger","args","_i","info","error","reduce","accumulator","loadExtension","_extensions","_hooks","_event","_b","funcs","filter","b","forEach","func","getErrorMessage","createEvent","_device","platform","version","navigator","language","userAgent","title","url","href","createDevice","_user","_actions","_metaData","Client","_this","baseConfig","config","schema$1","notifier","_c","configValue","errors","verifyConfig","_notifier","Map","join","getConfigErrorMessage","notify","eventLike","beforeNotify","_isOhbugEvent","isEvent","e_1","warning","condition","format","fallbackGlobalObject","getGlobal","global","self","getOhbugObject","argIndex_1","replace","__OHBUG__","source","behavior","original","wrapped","parseUrl","match","query","fragment","host","path","protocol","relative","getPath","node","getParentNode","parentNode","lastHref","getSelector","immutableTarget","target","srcElement","elements","nodeType","Node","ELEMENT_NODE","DOCUMENT_TYPE_NODE","previousSibling","outerHTML","reverse","localName","id","className","global$1","handleUrlChange","from","to","_href","_from","_to","historyReplacement","String","historyOriginal","replaceState","onpopstate","hashListener","oldURL","newURL","captureUrlChange","current","global$2","listener","tagName","name_1","selector","__assign","levels","consoleOriginal","acc","cur","unknownErrorHandler","scriptDispatcher","_e","filename","lineno","colno","stack","uncaughtErrorHandler","resourceErrorHandler","reason","unhandledrejectionErrorHandler","networkDispatcher","ajaxErrorHandler","fetchErrorHandler","websocketErrorHandler","global$3","access","xhrOriginal","open","XMLHttpRequest","global$4","access$1","fetchOriginal","global$5","global$6","listener$1","global$7","listener$2","captureAction","removeCaptureAction","removeEventListener","captureNetwork","desc","xhrProto","origin","readyState","req","res","status","statusText","captureAjaxError","conf","catch","err","captureFetchError","wsProto","backup","getOwnPropertyDescriptor","arg","extensions","binaryType","bufferedAmount","timeStamp","captureWebSocketError","removeCaptureNetwork","removeCaptureAjaxError","captureScript","removeCaptureScript","handleCapture","level","isOhbugConsole","some","includes","global$8","handleDestroy","sendBeacon","xhr_1","onreadystatechange","DONE","setRequestHeader","BrowserClient","createClient"],"mappings":"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","file":"js/app.96d3bcc4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([105,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Perfume from 'perfume.js';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\nfunction isString(value) {\r\n    return typeof value === 'string';\r\n}\r\nfunction isObject(value) {\r\n    return Object.prototype.toString.call(value) === '[object Object]';\r\n}\n\nfunction createExtension(extension) {\r\n    return extension;\r\n}\r\n\nvar Action = (function () {\r\n    function Action(message, data, type, timestamp) {\r\n        this.type = type;\r\n        this.timestamp = timestamp || new Date().toISOString();\r\n        this.message = message;\r\n        this.data = data;\r\n    }\r\n    return Action;\r\n}());\nfunction getErrorMessage(message, data) {\r\n    return new Error(\"Invalid data\\n- \" + message + \", got \" + JSON.stringify(data));\r\n}\n\nfunction addMetaData(map, section, data) {\r\n    return map.set(section, data);\r\n}\r\nfunction getMetaData(map, section) {\r\n    return map.get(section);\r\n}\r\nfunction deleteMetaData(map, section) {\r\n    return map.delete(section);\r\n}\n\nvar Event = (function () {\r\n    function Event(values, client) {\r\n        var apiKey = values.apiKey, appVersion = values.appVersion, appType = values.appType, releaseStage = values.releaseStage, timestamp = values.timestamp, category = values.category, type = values.type, detail = values.detail, device = values.device, user = values.user, actions = values.actions, metaData = values.metaData;\r\n        this.apiKey = apiKey;\r\n        this.appVersion = appVersion;\r\n        this.appType = appType;\r\n        this.releaseStage = releaseStage;\r\n        this.timestamp = timestamp;\r\n        this.category = category;\r\n        this.type = type;\r\n        this.detail = detail;\r\n        this.device = device;\r\n        this.user = user;\r\n        this.actions = actions;\r\n        this.metaData = metaData;\r\n        this._client = client;\r\n    }\r\n    Object.defineProperty(Event.prototype, \"_isOhbugEvent\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Event.prototype.addAction = function (message, data, type, timestamp) {\r\n        var _a;\r\n        var actions = this.actions;\r\n        message = isString(message) ? message : '';\r\n        data = isObject(data) ? data : {};\r\n        type = isString(type) ? type : '';\r\n        var action = new Action(message, data, type, timestamp);\r\n        if (actions.length >= ((_a = this._client) === null || _a === void 0 ? void 0 : _a._config.maxActions)) {\r\n            actions.shift();\r\n        }\r\n        actions.push(action);\r\n    };\r\n    Event.prototype.getUser = function () {\r\n        return this.user;\r\n    };\r\n    Event.prototype.setUser = function (user) {\r\n        var _a;\r\n        if (isObject(user) && Object.keys(user).length <= 6) {\r\n            this.user = Object.assign({}, this.user, user);\r\n            return this.getUser();\r\n        }\r\n        (_a = this._client) === null || _a === void 0 ? void 0 : _a._logger.warn(getErrorMessage('setUser should be an object and have up to 6 attributes', user));\r\n    };\r\n    Event.prototype.addMetaData = function (section, data) {\r\n        return addMetaData(this.metaData, section, data);\r\n    };\r\n    Event.prototype.getMetaData = function (section) {\r\n        return getMetaData(this.metaData, section);\r\n    };\r\n    Event.prototype.deleteMetaData = function (section) {\r\n        return deleteMetaData(this.metaData, section);\r\n    };\r\n    Event.prototype.toJSON = function () {\r\n        var _a = this, apiKey = _a.apiKey, appVersion = _a.appVersion, appType = _a.appType, timestamp = _a.timestamp, category = _a.category, type = _a.type, device = _a.device, detail = _a.detail, user = _a.user, actions = _a.actions, metaData = _a.metaData, releaseStage = _a.releaseStage;\r\n        return {\r\n            apiKey: apiKey,\r\n            appVersion: appVersion,\r\n            appType: appType,\r\n            timestamp: timestamp,\r\n            category: category,\r\n            type: type,\r\n            device: device,\r\n            detail: detail,\r\n            user: user,\r\n            actions: actions,\r\n            metaData: Object.fromEntries(metaData),\r\n            releaseStage: releaseStage,\r\n        };\r\n    };\r\n    return Event;\r\n}());\n\nvar extension = createExtension({\r\n    name: 'OhbugExtensionPerfume',\r\n    init: function (client) {\r\n        new Perfume({\r\n            resourceTiming: true,\r\n            analyticsTracker: function (options) {\r\n                var metricName = options.metricName, data = options.data;\r\n                var event = client.createEvent({\r\n                    category: 'performance',\r\n                    type: metricName,\r\n                    detail: data,\r\n                });\r\n                client.notify(event);\r\n            },\r\n        });\r\n    },\r\n});\n\nexport default extension;\n","import { record } from 'rrweb';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\nfunction isString(value) {\r\n    return typeof value === 'string';\r\n}\r\nfunction isObject(value) {\r\n    return Object.prototype.toString.call(value) === '[object Object]';\r\n}\n\nfunction createExtension(extension) {\r\n    return extension;\r\n}\r\n\nvar Action = (function () {\r\n    function Action(message, data, type, timestamp) {\r\n        this.type = type;\r\n        this.timestamp = timestamp || new Date().toISOString();\r\n        this.message = message;\r\n        this.data = data;\r\n    }\r\n    return Action;\r\n}());\nfunction getErrorMessage(message, data) {\r\n    return new Error(\"Invalid data\\n- \" + message + \", got \" + JSON.stringify(data));\r\n}\n\nfunction addMetaData(map, section, data) {\r\n    return map.set(section, data);\r\n}\r\nfunction getMetaData(map, section) {\r\n    return map.get(section);\r\n}\r\nfunction deleteMetaData(map, section) {\r\n    return map.delete(section);\r\n}\n\nvar Event = (function () {\r\n    function Event(values, client) {\r\n        var apiKey = values.apiKey, appVersion = values.appVersion, appType = values.appType, releaseStage = values.releaseStage, timestamp = values.timestamp, category = values.category, type = values.type, detail = values.detail, device = values.device, user = values.user, actions = values.actions, metaData = values.metaData;\r\n        this.apiKey = apiKey;\r\n        this.appVersion = appVersion;\r\n        this.appType = appType;\r\n        this.releaseStage = releaseStage;\r\n        this.timestamp = timestamp;\r\n        this.category = category;\r\n        this.type = type;\r\n        this.detail = detail;\r\n        this.device = device;\r\n        this.user = user;\r\n        this.actions = actions;\r\n        this.metaData = metaData;\r\n        this._client = client;\r\n    }\r\n    Object.defineProperty(Event.prototype, \"_isOhbugEvent\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Event.prototype.addAction = function (message, data, type, timestamp) {\r\n        var _a;\r\n        var actions = this.actions;\r\n        message = isString(message) ? message : '';\r\n        data = isObject(data) ? data : {};\r\n        type = isString(type) ? type : '';\r\n        var action = new Action(message, data, type, timestamp);\r\n        if (actions.length >= ((_a = this._client) === null || _a === void 0 ? void 0 : _a._config.maxActions)) {\r\n            actions.shift();\r\n        }\r\n        actions.push(action);\r\n    };\r\n    Event.prototype.getUser = function () {\r\n        return this.user;\r\n    };\r\n    Event.prototype.setUser = function (user) {\r\n        var _a;\r\n        if (isObject(user) && Object.keys(user).length <= 6) {\r\n            this.user = Object.assign({}, this.user, user);\r\n            return this.getUser();\r\n        }\r\n        (_a = this._client) === null || _a === void 0 ? void 0 : _a._logger.warn(getErrorMessage('setUser should be an object and have up to 6 attributes', user));\r\n    };\r\n    Event.prototype.addMetaData = function (section, data) {\r\n        return addMetaData(this.metaData, section, data);\r\n    };\r\n    Event.prototype.getMetaData = function (section) {\r\n        return getMetaData(this.metaData, section);\r\n    };\r\n    Event.prototype.deleteMetaData = function (section) {\r\n        return deleteMetaData(this.metaData, section);\r\n    };\r\n    Event.prototype.toJSON = function () {\r\n        var _a = this, apiKey = _a.apiKey, appVersion = _a.appVersion, appType = _a.appType, timestamp = _a.timestamp, category = _a.category, type = _a.type, device = _a.device, detail = _a.detail, user = _a.user, actions = _a.actions, metaData = _a.metaData, releaseStage = _a.releaseStage;\r\n        return {\r\n            apiKey: apiKey,\r\n            appVersion: appVersion,\r\n            appType: appType,\r\n            timestamp: timestamp,\r\n            category: category,\r\n            type: type,\r\n            device: device,\r\n            detail: detail,\r\n            user: user,\r\n            actions: actions,\r\n            metaData: Object.fromEntries(metaData),\r\n            releaseStage: releaseStage,\r\n        };\r\n    };\r\n    return Event;\r\n}());\n\nvar eventsMatrix = [[]];\r\nvar extension = createExtension({\r\n    name: 'OhbugExtensionRrweb',\r\n    init: function () {\r\n        record({\r\n            emit: function (event, isCheckout) {\r\n                if (isCheckout) {\r\n                    eventsMatrix.push([]);\r\n                }\r\n                var lastEvents = eventsMatrix[eventsMatrix.length - 1];\r\n                lastEvents.push(event);\r\n            },\r\n            checkoutEveryNms: 3 * 60 * 1000,\r\n        });\r\n    },\r\n    created: function (event) {\r\n        var len = eventsMatrix.length;\r\n        var events = (eventsMatrix[len - 2] || []).concat(eventsMatrix[len - 1]);\r\n        event.addMetaData('rrweb', events);\r\n        return event;\r\n    },\r\n});\n\nexport default extension;\n","import Ohbug from '@ohbug/browser'\nimport ohbugExtensionPerfume from '@ohbug/extension-perfume'\nimport ohbugPluginRrweb from '@ohbug/extension-rrweb'\n\nconst client = Ohbug.init({\n  apiKey: '126d5b54fad1589f4dc2b61c677b2b385e6f8bc24618980d8937fd136ec295af',\n  // apiKey: '4c771130ddedc639c6ab08e7e868efd00c8cc7963dba5e20f6ed4cdc77afbc23',\n  appVersion: '1.0.0',\n  appType: 'type1',\n  endpoint: 'http://localhost:6660/report',\n  created: (event, client) => {\n    // do something\n    return event\n  },\n  notified(event, client) {\n    console.log('init notified', event, client)\n  },\n})\n// client.use(ohbugExtensionPerfume)\nclient.use(ohbugPluginRrweb)\n\n// import fundebug from 'fundebug-javascript'\n// fundebug.init({\n//   apikey: '8b8c84d1ab6052c05e4c41764f18b5dfb1433a61bc58c590a3f5fa1175e0dad5'\n// })\n\n// import LogRocket from 'logrocket'\n// LogRocket.init('kltjgo/test')\n\n// import * as Sentry from '@sentry/browser'\n// Sentry.init({\n//   dsn: 'https://3338bf0f4a91405099f4a04e4876f202@sentry.io/1834606',\n// })\n","import axios from 'axios'\n// import { showReportDialog } from '@sentry/browser'\n\nconst history = document.querySelector('#history')\nhistory.addEventListener('click', (e) => {\n  const stateObj = {\n    foo: 'bar',\n  }\n  window.history.pushState(stateObj, 'history', 'bar.html')\n})\nconst hash = document.querySelector('#hash')\nhash.addEventListener('click', (e) => {\n  window.location.hash = 'hhh'\n})\n\nconst MESSAGE = document.querySelector('#MESSAGE')\nMESSAGE.addEventListener('click', (e) => {\n  // captureMessage('MESSAGE')\n})\nconst UNCAUGHT_ERROR = document.querySelector('#UNCAUGHT_ERROR')\nUNCAUGHT_ERROR.addEventListener('click', (e) => {\n  throw new Error('throw UNCAUGHT_ERROR')\n})\nconst UNHANDLEDREJECTION_ERROR = document.querySelector(\n  '#UNHANDLEDREJECTION_ERROR'\n)\nUNHANDLEDREJECTION_ERROR.addEventListener('click', (e) => {\n  Promise.reject('throw UNHANDLEDREJECTION_ERROR')\n})\nconst FETCH_ERROR = document.querySelector('#FETCH_ERROR')\nFETCH_ERROR.addEventListener('click', (e) => {\n  const data = { a: 1 }\n  fetch('/user', {\n    body: JSON.stringify(data), // must match 'Content-Type' header\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: 'same-origin', // include, same-origin, *omit\n    method: 'POST', // *GET, POST, PUT, DELETE, etc.\n    mode: 'cors', // no-cors, cors, *same-origin\n    redirect: 'follow', // manual, *follow, error\n    referrer: 'no-referrer', // *client, no-referrer\n  })\n    .then(function (response) {\n      return response.json()\n    })\n    .then(function (json) {\n      console.log('parsed json', json)\n    })\n})\nconst AJAX_ERROR = document.querySelector('#AJAX_ERROR')\nAJAX_ERROR.addEventListener('click', (e) => {\n  axios\n    .post('/', {\n      firstName: 'Fred',\n      lastName: 'Flintstone',\n    })\n    .then(function (response) {\n      console.log(response)\n    })\n})\nconst WEBSOCKET_ERROR = document.querySelector('#WEBSOCKET_ERROR')\nWEBSOCKET_ERROR.addEventListener('click', (e) => {\n  const ws = new WebSocket('ws://121.40.165.18')\n  ws.onopen = (e) => {\n    console.log('connection open')\n    ws.send('hello websocket')\n  }\n  ws.onmessage = (e) => {\n    console.log(`receive message: `, e)\n  }\n  ws.onerror = (e) => {\n    console.log('connection error', e)\n  }\n  ws.onclose = (e) => {\n    console.log('connection close')\n  }\n})\nconst RESOURCE_ERROR = document.querySelector('#RESOURCE_ERROR')\nRESOURCE_ERROR.addEventListener('click', (e) => {\n  const img = document.createElement('img')\n  img.src = 'http://a.com'\n  document.body.appendChild(img)\n})\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __spreadArrays$1() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar prefix = 'Ohbug';\r\nvar logger = {\r\n    log: function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        console.log.apply(console, __spreadArrays$1([prefix], args));\r\n    },\r\n    info: function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        console.info.apply(console, __spreadArrays$1([prefix], args));\r\n    },\r\n    warn: function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        console.warn.apply(console, __spreadArrays$1([prefix], args));\r\n    },\r\n    error: function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        console.error.apply(console, __spreadArrays$1([prefix], args));\r\n    },\r\n};\n\nfunction isString(value) {\r\n    return typeof value === 'string';\r\n}\r\nfunction isNumber(value) {\r\n    return typeof value === 'number' && parseInt('' + value, 10) === value;\r\n}\r\nfunction isFunction(value) {\r\n    return typeof value === 'function';\r\n}\r\nfunction isObject(value) {\r\n    return Object.prototype.toString.call(value) === '[object Object]';\r\n}\n\nvar schema = {\r\n    apiKey: {\r\n        defaultValue: undefined,\r\n        message: 'is required',\r\n        validate: function (value) { return Boolean(value) && isString(value); },\r\n    },\r\n    appVersion: {\r\n        defaultValue: undefined,\r\n        message: 'should be a string',\r\n        validate: function (value) { return value === undefined || isString(value); },\r\n    },\r\n    appType: {\r\n        defaultValue: undefined,\r\n        message: 'should be a string',\r\n        validate: function (value) { return value === undefined || isString(value); },\r\n    },\r\n    releaseStage: {\r\n        defaultValue: 'production',\r\n        message: 'should be a string',\r\n        validate: function (value) { return value === undefined || isString(value); },\r\n    },\r\n    endpoint: {\r\n        defaultValue: 'http://api.ohbug.net/report',\r\n        message: 'should be a string',\r\n        validate: function (value) { return value === undefined || isString(value); },\r\n    },\r\n    maxActions: {\r\n        defaultValue: 30,\r\n        message: 'should be a number between 0 and 100',\r\n        validate: function (value) { return value === undefined || (isNumber(value) && 1 <= value && value <= 100); },\r\n    },\r\n    created: {\r\n        defaultValue: function (event) { return event; },\r\n        message: 'should be a function',\r\n        validate: function (value) { return value === undefined || isFunction(value); },\r\n    },\r\n    notified: {\r\n        defaultValue: function () { },\r\n        message: 'should be a function',\r\n        validate: function (value) { return value === undefined || isFunction(value); },\r\n    },\r\n    logger: {\r\n        defaultValue: logger,\r\n        message: 'should be null or an object with methods { log, info, warn, error }',\r\n        validate: function (value) {\r\n            return value === undefined ||\r\n                (value &&\r\n                    ['log', 'info', 'warn', 'error'].reduce(function (accumulator, method) { return accumulator && typeof value[method] === 'function'; }, true));\r\n        },\r\n    },\r\n    user: {\r\n        defaultValue: undefined,\r\n        message: 'should be an object and have up to 6 attributes',\r\n        validate: function (value) { return value === undefined || (isObject(value) && Object.keys(value).length <= 6); },\r\n    },\r\n    metaData: {\r\n        defaultValue: undefined,\r\n        message: 'should be an object',\r\n        validate: function (value) { return value === undefined || isObject(value); },\r\n    },\r\n};\n\nfunction createExtension(extension) {\r\n    return extension;\r\n}\r\nfunction loadExtension(extension, client) {\r\n    var _a;\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    var result = (_a = extension.init) === null || _a === void 0 ? void 0 : _a.call.apply(_a, __spreadArrays([extension, client], args));\r\n    client._extensions.push(extension);\r\n    client._hooks.created = function (_event, _client) {\r\n        var _a, _b;\r\n        var funcs = __spreadArrays([\r\n            _client._config.created\r\n        ], _client._extensions\r\n            .filter(function (_a) {\r\n            var created = _a.created;\r\n            return isFunction(created);\r\n        })\r\n            .map(function (_a) {\r\n            var created = _a.created;\r\n            return created;\r\n        }));\r\n        if (funcs.length === 0)\r\n            return (function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                return args;\r\n            })(_event, _client);\r\n        if (funcs.length === 1)\r\n            return (_a = funcs[0]) === null || _a === void 0 ? void 0 : _a.call(funcs, _event, _client);\r\n        return (_b = funcs.reduce(function (a, b) { return function (event) { return b(a(event, _client), _client); }; })) === null || _b === void 0 ? void 0 : _b(_event, _client);\r\n    };\r\n    client._hooks.notified = function (_event, _client) {\r\n        return __spreadArrays([\r\n            _client._config.notified\r\n        ], _client._extensions\r\n            .filter(function (_a) {\r\n            var notified = _a.notified;\r\n            return isFunction(notified);\r\n        })\r\n            .map(function (_a) {\r\n            var notified = _a.notified;\r\n            return notified;\r\n        })).forEach(function (func) { return func === null || func === void 0 ? void 0 : func(_event, _client); });\r\n    };\r\n    return result || client;\r\n}\n\nfunction createDevice(client) {\r\n    var _a = client._device, platform = _a.platform, version = _a.version;\r\n    var device = {\r\n        platform: platform,\r\n        version: version,\r\n    };\r\n    if (navigator) {\r\n        var language = navigator.language, userAgent = navigator.userAgent;\r\n        device.language = language;\r\n        device.userAgent = userAgent;\r\n    }\r\n    if (document) {\r\n        var title = document.title;\r\n        device.title = title;\r\n    }\r\n    if (location) {\r\n        var url = location.href;\r\n        device.url = url;\r\n    }\r\n    return device;\r\n}\n\nvar Action = (function () {\r\n    function Action(message, data, type, timestamp) {\r\n        this.type = type;\r\n        this.timestamp = timestamp || new Date().toISOString();\r\n        this.message = message;\r\n        this.data = data;\r\n    }\r\n    return Action;\r\n}());\n\nfunction getConfigErrorMessage(errors, config) {\r\n    return new Error(\"Invalid configuration\\n\" + Object.keys(errors)\r\n        .map(function (key) { return \"- \" + key + \" \" + errors[key] + \", got \" + JSON.stringify(config[key]); })\r\n        .join('\\n') + \"\\n      \");\r\n}\r\nfunction getErrorMessage(message, data) {\r\n    return new Error(\"Invalid data\\n- \" + message + \", got \" + JSON.stringify(data));\r\n}\n\nfunction addMetaData(map, section, data) {\r\n    return map.set(section, data);\r\n}\r\nfunction getMetaData(map, section) {\r\n    return map.get(section);\r\n}\r\nfunction deleteMetaData(map, section) {\r\n    return map.delete(section);\r\n}\n\nvar Event = (function () {\r\n    function Event(values, client) {\r\n        var apiKey = values.apiKey, appVersion = values.appVersion, appType = values.appType, releaseStage = values.releaseStage, timestamp = values.timestamp, category = values.category, type = values.type, detail = values.detail, device = values.device, user = values.user, actions = values.actions, metaData = values.metaData;\r\n        this.apiKey = apiKey;\r\n        this.appVersion = appVersion;\r\n        this.appType = appType;\r\n        this.releaseStage = releaseStage;\r\n        this.timestamp = timestamp;\r\n        this.category = category;\r\n        this.type = type;\r\n        this.detail = detail;\r\n        this.device = device;\r\n        this.user = user;\r\n        this.actions = actions;\r\n        this.metaData = metaData;\r\n        this._client = client;\r\n    }\r\n    Object.defineProperty(Event.prototype, \"_isOhbugEvent\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Event.prototype.addAction = function (message, data, type, timestamp) {\r\n        var _a;\r\n        var actions = this.actions;\r\n        message = isString(message) ? message : '';\r\n        data = isObject(data) ? data : {};\r\n        type = isString(type) ? type : '';\r\n        var action = new Action(message, data, type, timestamp);\r\n        if (actions.length >= ((_a = this._client) === null || _a === void 0 ? void 0 : _a._config.maxActions)) {\r\n            actions.shift();\r\n        }\r\n        actions.push(action);\r\n    };\r\n    Event.prototype.getUser = function () {\r\n        return this.user;\r\n    };\r\n    Event.prototype.setUser = function (user) {\r\n        var _a;\r\n        if (isObject(user) && Object.keys(user).length <= 6) {\r\n            this.user = Object.assign({}, this.user, user);\r\n            return this.getUser();\r\n        }\r\n        (_a = this._client) === null || _a === void 0 ? void 0 : _a._logger.warn(getErrorMessage('setUser should be an object and have up to 6 attributes', user));\r\n    };\r\n    Event.prototype.addMetaData = function (section, data) {\r\n        return addMetaData(this.metaData, section, data);\r\n    };\r\n    Event.prototype.getMetaData = function (section) {\r\n        return getMetaData(this.metaData, section);\r\n    };\r\n    Event.prototype.deleteMetaData = function (section) {\r\n        return deleteMetaData(this.metaData, section);\r\n    };\r\n    Event.prototype.toJSON = function () {\r\n        var _a = this, apiKey = _a.apiKey, appVersion = _a.appVersion, appType = _a.appType, timestamp = _a.timestamp, category = _a.category, type = _a.type, device = _a.device, detail = _a.detail, user = _a.user, actions = _a.actions, metaData = _a.metaData, releaseStage = _a.releaseStage;\r\n        return {\r\n            apiKey: apiKey,\r\n            appVersion: appVersion,\r\n            appType: appType,\r\n            timestamp: timestamp,\r\n            category: category,\r\n            type: type,\r\n            device: device,\r\n            detail: detail,\r\n            user: user,\r\n            actions: actions,\r\n            metaData: Object.fromEntries(metaData),\r\n            releaseStage: releaseStage,\r\n        };\r\n    };\r\n    return Event;\r\n}());\r\nfunction createEvent(values, client) {\r\n    var _a = client._config, apiKey = _a.apiKey, appVersion = _a.appVersion, appType = _a.appType, releaseStage = _a.releaseStage;\r\n    var timestamp = new Date().toISOString();\r\n    var device = createDevice(client);\r\n    var category, type, detail;\r\n    if (isObject(values) &&\r\n        Object.prototype.hasOwnProperty.call(values, 'type') &&\r\n        Object.prototype.hasOwnProperty.call(values, 'detail')) {\r\n        category = values.category || 'error';\r\n        type = values.type;\r\n        detail = values.detail;\r\n    }\r\n    else {\r\n        category = 'error';\r\n        type = 'unknownError';\r\n        detail = values;\r\n    }\r\n    return new Event({\r\n        apiKey: apiKey,\r\n        appVersion: appVersion,\r\n        appType: appType,\r\n        timestamp: timestamp,\r\n        category: category,\r\n        type: type,\r\n        device: device,\r\n        user: client._user,\r\n        detail: detail,\r\n        actions: client._actions,\r\n        metaData: client._metaData,\r\n        releaseStage: releaseStage,\r\n    }, client);\r\n}\r\nfunction isEvent(eventLike) {\r\n    return Boolean(eventLike === null || eventLike === void 0 ? void 0 : eventLike._isOhbugEvent);\r\n}\n\nfunction notify(event, client) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var result, e_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 3, , 4]);\r\n                    result = null;\r\n                    if (!event) return [3, 2];\r\n                    return [4, client._notifier(event)];\r\n                case 1:\r\n                    result = _a.sent();\r\n                    _a.label = 2;\r\n                case 2:\r\n                    if (isFunction(client._hooks.notified)) {\r\n                        client._hooks.notified(event, client);\r\n                    }\r\n                    return [2, result];\r\n                case 3:\r\n                    e_1 = _a.sent();\r\n                    client._logger.error(e_1);\r\n                    return [3, 4];\r\n                case 4: return [2];\r\n            }\r\n        });\r\n    });\r\n}\n\nfunction verifyConfig(config, schema) {\r\n    var keys = Object.keys(schema);\r\n    return keys.reduce(function (accumulator, key) {\r\n        var configValue = config[key];\r\n        var _a = schema[key], defaultValue = _a.defaultValue, message = _a.message, validate = _a.validate;\r\n        if (configValue !== undefined) {\r\n            var valid = validate(configValue);\r\n            if (valid) {\r\n                accumulator.config[key] = configValue;\r\n            }\r\n            else {\r\n                accumulator.config[key] = defaultValue;\r\n                accumulator.errors[key] = message;\r\n            }\r\n        }\r\n        else {\r\n            accumulator.config[key] = defaultValue;\r\n        }\r\n        return accumulator;\r\n    }, { config: {}, errors: {} });\r\n}\n\nvar Client = (function () {\r\n    function Client(_a) {\r\n        var _this = this;\r\n        var baseConfig = _a.config, _b = _a.schema, schema$1 = _b === void 0 ? schema : _b, device = _a.device, notifier = _a.notifier;\r\n        var _c = verifyConfig(baseConfig, schema$1), config = _c.config, errors = _c.errors;\r\n        this._config = config;\r\n        this._logger = config.logger;\r\n        this._device = device;\r\n        this._notifier = notifier;\r\n        this._extensions = [];\r\n        this._hooks = {\r\n            created: config.created,\r\n            notified: config.notified,\r\n        };\r\n        this._actions = [];\r\n        this._user = config.user;\r\n        this._metaData = new Map();\r\n        if (isObject(config.metaData)) {\r\n            Object.keys(config.metaData).forEach(function (key) {\r\n                _this.addMetaData(key, config.metaData[key]);\r\n            });\r\n        }\r\n        if (Object.keys(errors).length) {\r\n            this._logger.warn(getConfigErrorMessage(errors, baseConfig));\r\n        }\r\n    }\r\n    Client.prototype.use = function (extension) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        return loadExtension.apply(void 0, __spreadArrays([extension, this], args));\r\n    };\r\n    Client.prototype.createEvent = function (value) {\r\n        var event = createEvent(value, this);\r\n        if (isFunction(this._hooks.created)) {\r\n            return this._hooks.created(event, this);\r\n        }\r\n        return event;\r\n    };\r\n    Client.prototype.notify = function (eventLike, beforeNotify) {\r\n        var event;\r\n        if (Boolean(eventLike) && !isEvent(eventLike)) {\r\n            event = this.createEvent(eventLike);\r\n        }\r\n        else {\r\n            event = eventLike;\r\n        }\r\n        if (beforeNotify)\r\n            event = beforeNotify(event);\r\n        return notify(event, this);\r\n    };\r\n    Client.prototype.addAction = function (message, data, type, timestamp) {\r\n        var actions = this._actions;\r\n        message = isString(message) ? message : '';\r\n        data = isObject(data) ? data : {};\r\n        type = isString(type) ? type : '';\r\n        var action = new Action(message, data, type, timestamp);\r\n        if (actions.length >= this._config.maxActions) {\r\n            actions.shift();\r\n        }\r\n        actions.push(action);\r\n    };\r\n    Client.prototype.getUser = function () {\r\n        return this._user;\r\n    };\r\n    Client.prototype.setUser = function (user) {\r\n        if (isObject(user) && Object.keys(user).length <= 6) {\r\n            this._user = Object.assign({}, this._user, user);\r\n            return this.getUser();\r\n        }\r\n        this._logger.warn(getErrorMessage('setUser should be an object and have up to 6 attributes', user));\r\n    };\r\n    Client.prototype.addMetaData = function (section, data) {\r\n        return addMetaData(this._metaData, section, data);\r\n    };\r\n    Client.prototype.getMetaData = function (section) {\r\n        return getMetaData(this._metaData, section);\r\n    };\r\n    Client.prototype.deleteMetaData = function (section) {\r\n        return deleteMetaData(this._metaData, section);\r\n    };\r\n    return Client;\r\n}());\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __spreadArrays$2() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar prefix$1 = 'Ohbug';\r\nvar logger$1 = {\r\n    log: function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        console.log.apply(console, __spreadArrays$2([prefix$1], args));\r\n    },\r\n    info: function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        console.info.apply(console, __spreadArrays$2([prefix$1], args));\r\n    },\r\n    warn: function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        console.warn.apply(console, __spreadArrays$2([prefix$1], args));\r\n    },\r\n    error: function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        console.error.apply(console, __spreadArrays$2([prefix$1], args));\r\n    },\r\n};\n\nfunction error(condition, format) {\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    if (format === undefined) {\r\n        throw new Error('`Ohbug warning(condition, format, ...args)` requires a warning message argument');\r\n    }\r\n    if (!condition) {\r\n        var argIndex_1 = 0;\r\n        var message = format.replace(/%s/g, function () { return args[argIndex_1++]; });\r\n        throw new Error(\"Ohbug \" + message);\r\n    }\r\n}\r\nfunction warning(condition, format) {\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        if (format === undefined) {\r\n            throw new Error('`Ohbug warning(condition, format, ...args)` requires a warning message argument');\r\n        }\r\n        if (!condition) {\r\n            var argIndex_2 = 0;\r\n            var message = format.replace(/%s/g, function () { return args[argIndex_2++]; });\r\n            logger$1.warn(message);\r\n        }\r\n    }\r\n}\n\nvar fallbackGlobalObject = {};\r\nfunction getGlobal() {\r\n    return (typeof window !== 'undefined'\r\n        ? window\r\n        : typeof global !== 'undefined'\r\n            ? global\r\n            : typeof self !== 'undefined'\r\n                ? self\r\n                : fallbackGlobalObject);\r\n}\r\nfunction getOhbugObject() {\r\n    var global = getGlobal();\r\n    error(Boolean(global.__OHBUG__), 'Failed to get `OhbugObject`, please confirm if `Ohbug.init`');\r\n    return global.__OHBUG__;\r\n}\r\n\nfunction replace(source, name, behavior) {\r\n    if (!(name in source)) {\r\n        return;\r\n    }\r\n    var original = source[name];\r\n    var wrapped = behavior(original);\r\n    source[name] = wrapped;\r\n    return original;\r\n}\r\nfunction parseUrl(url) {\r\n    if (typeof url !== 'string') {\r\n        return {};\r\n    }\r\n    var match = url.match(/^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);\r\n    if (!match) {\r\n        return {};\r\n    }\r\n    var query = match[6] || '';\r\n    var fragment = match[8] || '';\r\n    return {\r\n        host: match[4],\r\n        path: match[5],\r\n        protocol: match[2],\r\n        relative: match[5] + query + fragment,\r\n    };\r\n}\n\nfunction getParentNode(node, path) {\r\n    if (node.parentNode) {\r\n        path.push(node.parentNode);\r\n        getParentNode(node.parentNode, path);\r\n    }\r\n}\r\nfunction getPath(node) {\r\n    var path = [];\r\n    path.push(node);\r\n    getParentNode(node, path);\r\n    return path;\r\n}\r\nvar getSelector = function (event) {\r\n    var immutableTarget = (event.target || event.srcElement);\r\n    var target = (event.target || event.srcElement);\r\n    var elements = [];\r\n    for (var i = 0; target && target.nodeType === Node.ELEMENT_NODE && target.nodeType !== Node.DOCUMENT_TYPE_NODE; target = target.previousSibling) {\r\n        i && elements.push(target);\r\n        i += 1;\r\n    }\r\n    var path = typeof event.path === 'undefined' ? getPath(event.target) : event.path;\r\n    var outerHTML = immutableTarget.outerHTML;\r\n    return path\r\n        .reverse()\r\n        .map(function (node) {\r\n        return (node.localName || '') +\r\n            (node.id ? \"#\" + node.id : '') +\r\n            (node.className ? \".\" + node.className : '') +\r\n            (node.outerHTML === outerHTML ? \":nth-child(\" + elements.length + \")\" : '');\r\n    })\r\n        .filter(function (v) { return Boolean(v); })\r\n        .join(' > ');\r\n};\n\nvar global$1 = getGlobal();\r\nvar lastHref;\r\nfunction handleUrlChange(from, to) {\r\n    var client = getOhbugObject().client;\r\n    var _href = parseUrl(global$1.location.href);\r\n    var _from = parseUrl(from);\r\n    var _to = parseUrl(to);\r\n    if (!_from.path) {\r\n        _from = _href;\r\n    }\r\n    lastHref = to;\r\n    if (_href.protocol === _to.protocol && _href.host === _to.host) {\r\n        to = _to.relative;\r\n    }\r\n    if (_href.protocol === _from.protocol && _href.host === _from.host) {\r\n        from = _from.relative;\r\n    }\r\n    if (from === to)\r\n        return;\r\n    client.addAction(\"navigation to \" + to, {\r\n        from: from,\r\n        to: to,\r\n    }, 'navigation');\r\n}\r\nfunction historyReplacement(original) {\r\n    return function (data, title, url) {\r\n        if (url) {\r\n            handleUrlChange(lastHref, String(url));\r\n        }\r\n        return original.apply(this, [data, title, url]);\r\n    };\r\n}\r\nvar historyOriginal = {\r\n    pushState: global$1.history.pushState,\r\n    replaceState: global$1.history.replaceState,\r\n    onpopstate: global$1.onpopstate,\r\n};\r\nfunction historyListener() {\r\n    historyOriginal.pushState = replace(global$1.history, 'pushState', historyReplacement);\r\n    historyOriginal.replaceState = replace(global$1.history, 'replaceState', historyReplacement);\r\n    historyOriginal.onpopstate = replace(global$1, 'onpopstate', function () {\r\n        var current = global$1.location.href;\r\n        handleUrlChange(lastHref, current);\r\n    });\r\n}\r\nfunction hashListener(e) {\r\n    var oldURL = e.oldURL, newURL = e.newURL;\r\n    handleUrlChange(oldURL, newURL);\r\n}\r\nfunction captureUrlChange() {\r\n    historyListener();\r\n    global$1.addEventListener('hashchange', hashListener, true);\r\n}\r\nfunction removeCaptureUrlChange() {\r\n    global$1.history.pushState = historyOriginal.pushState;\r\n    global$1.history.replaceState = historyOriginal.replaceState;\r\n    global$1.onpopstate = historyOriginal.onpopstate;\r\n    global$1.removeEventListener('hashchange', hashListener, true);\r\n}\n\nvar global$2 = getGlobal();\r\nfunction listener(e) {\r\n    if (e.target) {\r\n        var client = getOhbugObject().client;\r\n        var _a = e.target, tagName = _a.tagName, id = _a.id, className = _a.className, name_1 = _a.name, src = _a.src, outerHTML = _a.outerHTML, nodeType = _a.nodeType;\r\n        var selector = getSelector(e);\r\n        client.addAction('click node', {\r\n            tagName: tagName,\r\n            id: id,\r\n            className: className,\r\n            name: name_1,\r\n            src: src,\r\n            outerHTML: outerHTML,\r\n            nodeType: nodeType,\r\n            selector: selector,\r\n        }, 'click');\r\n    }\r\n}\r\nfunction captureClick() {\r\n    global$2.document.addEventListener('click', listener);\r\n}\r\nfunction removeCaptureClick() {\r\n    global$2.document.removeEventListener('click', listener);\r\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar levels = ['log', 'info', 'warn', 'error'];\r\nvar consoleOriginal = Object.keys(levels).reduce(function (acc, cur) {\r\n    var _a;\r\n    return (__assign(__assign({}, acc), (_a = {}, _a[cur] = console[cur], _a)));\r\n}, {\r\n    log: null,\r\n    info: null,\r\n    warn: null,\r\n    error: null,\r\n});\r\nfunction captureConsole() {\r\n    var client = getOhbugObject().client;\r\n    levels.forEach(function (level) {\r\n        consoleOriginal[level] = replace(console, level, function (origin) {\r\n            return function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                var isOhbugConsole = args.some(function (arg) { return typeof arg === 'string' && arg.includes('Ohbug'); });\r\n                if (!isOhbugConsole) {\r\n                    client.addAction(\"console.\" + level, args, 'console');\r\n                }\r\n                return origin.apply(this, args);\r\n            };\r\n        });\r\n    });\r\n}\r\nfunction removeCaptureConsole() {\r\n    if (console) {\r\n        levels.forEach(function (level) {\r\n            console[level] = consoleOriginal[level];\r\n        });\r\n    }\r\n}\n\nvar UNCAUGHT_ERROR = 'uncaughtError';\r\nvar RESOURCE_ERROR = 'resourceError';\r\nvar UNHANDLEDREJECTION_ERROR = 'unhandledrejectionError';\r\nvar AJAX_ERROR = 'ajaxError';\r\nvar FETCH_ERROR = 'fetchError';\r\nvar WEBSOCKET_ERROR = 'websocketError';\r\nvar UNKNOWN_ERROR = 'unknownError';\r\nvar MESSAGE = 'message';\r\nvar VIEW = 'view';\n\nvar types = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    UNCAUGHT_ERROR: UNCAUGHT_ERROR,\n    RESOURCE_ERROR: RESOURCE_ERROR,\n    UNHANDLEDREJECTION_ERROR: UNHANDLEDREJECTION_ERROR,\n    AJAX_ERROR: AJAX_ERROR,\n    FETCH_ERROR: FETCH_ERROR,\n    WEBSOCKET_ERROR: WEBSOCKET_ERROR,\n    UNKNOWN_ERROR: UNKNOWN_ERROR,\n    MESSAGE: MESSAGE,\n    VIEW: VIEW\n});\n\nvar UNCAUGHT_ERROR$1 = UNCAUGHT_ERROR;\r\nfunction uncaughtErrorHandler(error) {\r\n    var message = error.message, filename = error.filename, lineno = error.lineno, colno = error.colno, _a = error.error, stack = _a.stack, name = _a.name;\r\n    var detail = {\r\n        name: name,\r\n        message: message,\r\n        filename: filename,\r\n        lineno: lineno,\r\n        colno: colno,\r\n        stack: stack,\r\n    };\r\n    var client = getOhbugObject().client;\r\n    var event = client.createEvent({\r\n        category: 'error',\r\n        type: UNCAUGHT_ERROR$1,\r\n        detail: detail,\r\n    });\r\n    client.notify(event);\r\n}\n\nvar RESOURCE_ERROR$1 = RESOURCE_ERROR;\r\nfunction resourceErrorHandler(error) {\r\n    var target = (error.target || error.srcElement);\r\n    var outerHTML = target.outerHTML;\r\n    var selector = getSelector(error);\r\n    var detail = {\r\n        outerHTML: outerHTML,\r\n        src: target && target.src,\r\n        tagName: target && target.tagName,\r\n        id: target && target.id,\r\n        className: target && target.className,\r\n        name: target && target.name,\r\n        nodeType: target && target.nodeType,\r\n        selector: selector,\r\n    };\r\n    var client = getOhbugObject().client;\r\n    var event = client.createEvent({\r\n        category: 'error',\r\n        type: RESOURCE_ERROR$1,\r\n        detail: detail,\r\n    });\r\n    client.notify(event);\r\n}\n\nvar UNHANDLEDREJECTION_ERROR$1 = UNHANDLEDREJECTION_ERROR;\r\nfunction unhandledrejectionErrorHandler(error) {\r\n    var detail = {\r\n        message: error.reason.message || error.reason,\r\n        stack: error.reason.stack,\r\n    };\r\n    var client = getOhbugObject().client;\r\n    var event = client.createEvent({\r\n        category: 'error',\r\n        type: UNHANDLEDREJECTION_ERROR$1,\r\n        detail: detail,\r\n    });\r\n    client.notify(event);\r\n}\n\nvar UNKNOWN_ERROR$1 = UNKNOWN_ERROR;\r\nfunction unknownErrorHandler(error) {\r\n    var detail = error.message\r\n        ? error\r\n        : {\r\n            message: error,\r\n        };\r\n    var client = getOhbugObject().client;\r\n    var event = client.createEvent({\r\n        category: 'error',\r\n        type: UNKNOWN_ERROR$1,\r\n        detail: detail,\r\n    });\r\n    client.notify(event);\r\n}\n\nvar AJAX_ERROR$1 = AJAX_ERROR;\r\nfunction ajaxErrorHandler(detail) {\r\n    var client = getOhbugObject().client;\r\n    var event = client.createEvent({ category: 'error', type: AJAX_ERROR$1, detail: detail });\r\n    client.notify(event);\r\n}\n\nvar FETCH_ERROR$1 = FETCH_ERROR;\r\nfunction fetchErrorHandler(detail) {\r\n    var client = getOhbugObject().client;\r\n    var event = client.createEvent({\r\n        category: 'error',\r\n        type: FETCH_ERROR$1,\r\n        detail: detail,\r\n    });\r\n    client.notify(event);\r\n}\n\nvar WEBSOCKET_ERROR$1 = WEBSOCKET_ERROR;\r\nfunction websocketErrorHandler(detail) {\r\n    var client = getOhbugObject().client;\r\n    var event = client.createEvent({\r\n        category: 'error',\r\n        type: WEBSOCKET_ERROR$1,\r\n        detail: detail,\r\n    });\r\n    client.notify(event);\r\n}\n\nfunction scriptDispatcher(e) {\r\n    try {\r\n        var type = e.type;\r\n        if (type === 'error') {\r\n            var _e = e;\r\n            var message = _e.message, error = _e.error;\r\n            var immutableTarget = e.target || e.srcElement;\r\n            if (message && error) {\r\n                uncaughtErrorHandler(_e);\r\n            }\r\n            else if (immutableTarget) {\r\n                resourceErrorHandler(_e);\r\n            }\r\n        }\r\n        else if (type === 'unhandledrejection') {\r\n            unhandledrejectionErrorHandler(e);\r\n        }\r\n        else {\r\n            unknownErrorHandler(e);\r\n        }\r\n    }\r\n    catch (error) {\r\n        unknownErrorHandler(error);\r\n    }\r\n}\n\nvar AJAX_ERROR$2 = AJAX_ERROR, FETCH_ERROR$2 = FETCH_ERROR, WEBSOCKET_ERROR$2 = WEBSOCKET_ERROR;\r\nfunction networkDispatcher(type, detail) {\r\n    try {\r\n        switch (type) {\r\n            case AJAX_ERROR$2:\r\n                ajaxErrorHandler(detail);\r\n                break;\r\n            case FETCH_ERROR$2:\r\n                fetchErrorHandler(detail);\r\n                break;\r\n            case WEBSOCKET_ERROR$2:\r\n                websocketErrorHandler(detail);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    catch (error) {\r\n        unknownErrorHandler(error);\r\n    }\r\n}\n\nvar global$3 = getGlobal();\r\nvar AJAX_ERROR$3 = AJAX_ERROR;\r\nvar access = 'XMLHttpRequest' in global$3;\r\nvar xhrOriginal = access\r\n    ? {\r\n        open: XMLHttpRequest.prototype.open,\r\n        send: XMLHttpRequest.prototype.send,\r\n    }\r\n    : {};\r\nfunction captureAjaxError() {\r\n    warning(access, 'Binding `AJAX` monitoring failed, the current environment did not find the object `XMLHttpRequest`');\r\n    if (!access)\r\n        return;\r\n    var client = getOhbugObject().client;\r\n    var desc = {\r\n        method: '',\r\n        url: '',\r\n    };\r\n    var xhrProto = XMLHttpRequest.prototype;\r\n    xhrOriginal.open = replace(xhrProto, 'open', function (origin) {\r\n        return function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            desc.method = args[0];\r\n            desc.url = args[1];\r\n            return origin.apply(this, args);\r\n        };\r\n    });\r\n    xhrOriginal.send = replace(xhrProto, 'send', function (origin) {\r\n        return function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            this.addEventListener('readystatechange', function () {\r\n                if (this.readyState === 4) {\r\n                    if (desc.url !== 'http://api.ohbug.net/report') {\r\n                        var detail = {\r\n                            req: {\r\n                                url: desc.url,\r\n                                method: desc.method,\r\n                                data: args[0] || {},\r\n                            },\r\n                            res: {\r\n                                status: this.status,\r\n                                statusText: this.statusText,\r\n                                response: this.response,\r\n                            },\r\n                        };\r\n                        client.addAction('ajax', detail, 'ajax');\r\n                        if (!this.status || this.status >= 400) {\r\n                            networkDispatcher(AJAX_ERROR$3, detail);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            return origin.apply(this, args);\r\n        };\r\n    });\r\n}\r\nfunction removeCaptureAjaxError() {\r\n    if (access && xhrOriginal.open && xhrOriginal.send) {\r\n        var xhrProto = XMLHttpRequest.prototype;\r\n        xhrProto.open = xhrOriginal.open;\r\n        xhrProto.send = xhrOriginal.send;\r\n    }\r\n}\n\nvar global$4 = getGlobal();\r\nvar FETCH_ERROR$3 = FETCH_ERROR;\r\nvar access$1 = 'fetch' in global$4;\r\nvar fetchOriginal = access$1 ? global$4.fetch : null;\r\nfunction captureFetchError() {\r\n    warning(access$1, 'Binding `fetch` monitoring failed, the current environment did not find the object `fetch`');\r\n    if (!access$1)\r\n        return;\r\n    var client = getOhbugObject().client;\r\n    fetchOriginal = replace(global$4, 'fetch', function (origin) {\r\n        return function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return origin\r\n                .apply(this, args)\r\n                .then(function (res) {\r\n                var url = args[0], conf = args[1];\r\n                var detail = {\r\n                    req: {\r\n                        url: url,\r\n                        method: conf && conf.method,\r\n                        data: (conf && conf.body) || {},\r\n                    },\r\n                    res: {\r\n                        status: res.status,\r\n                        statusText: res.statusText,\r\n                    },\r\n                };\r\n                client.addAction('fetch', detail, 'fetch');\r\n                if (!res.status || res.status >= 400) {\r\n                    networkDispatcher(FETCH_ERROR$3, detail);\r\n                }\r\n                return res;\r\n            })\r\n                .catch(function (err) {\r\n                networkDispatcher(FETCH_ERROR$3, err);\r\n            });\r\n        };\r\n    });\r\n}\r\nfunction removeCaptureFetchError() {\r\n    if (access$1 && fetchOriginal) {\r\n        global$4.fetch = fetchOriginal;\r\n    }\r\n}\n\nvar global$5 = getGlobal();\r\nvar WEBSOCKET_ERROR$3 = WEBSOCKET_ERROR;\r\nfunction captureWebSocketError() {\r\n    warning('WebSocket' in global$5, 'Binding `WebSocket` monitoring failed, the current environment did not find the object `WebSocket`');\r\n    if (!('WebSocket' in global$5))\r\n        return;\r\n    var wsProto = WebSocket.prototype;\r\n    var backup = Object.getOwnPropertyDescriptor(wsProto, 'onerror');\r\n    Object.defineProperty(wsProto, 'onerror', {\r\n        set: function () {\r\n            var arg = arguments[0];\r\n            backup.set.call(this, function (e) {\r\n                var _a = e.target, url = _a.url, readyState = _a.readyState, protocol = _a.protocol, extensions = _a.extensions, binaryType = _a.binaryType, bufferedAmount = _a.bufferedAmount, timeStamp = e.timeStamp;\r\n                var detail = {\r\n                    url: url,\r\n                    timeStamp: timeStamp,\r\n                    readyState: readyState,\r\n                    protocol: protocol,\r\n                    extensions: extensions,\r\n                    binaryType: binaryType,\r\n                    bufferedAmount: bufferedAmount,\r\n                };\r\n                networkDispatcher(WEBSOCKET_ERROR$3, detail);\r\n                arg.apply(this, arguments);\r\n            });\r\n        },\r\n    });\r\n}\n\nvar global$6 = getGlobal();\r\nfunction listener$1(e) {\r\n    scriptDispatcher(e);\r\n}\r\nfunction captureUncaughtError() {\r\n    global$6.addEventListener('error', listener$1, true);\r\n}\r\nfunction removeCaptureUncaughtError() {\r\n    global$6.removeEventListener('error', listener$1, true);\r\n}\n\nvar global$7 = getGlobal();\r\nfunction listener$2(e) {\r\n    scriptDispatcher(e);\r\n}\r\nfunction captureUnhandledrejectionError() {\r\n    global$7.addEventListener('unhandledrejection', listener$2, true);\r\n}\r\nfunction removeCaptureUnhandledrejectionError() {\r\n    global$7.removeEventListener('unhandledrejection', listener$2, true);\r\n}\n\nfunction captureAction() {\r\n    captureUrlChange();\r\n    captureClick();\r\n}\r\nfunction removeCaptureAction() {\r\n    removeCaptureUrlChange();\r\n    removeCaptureClick();\r\n}\r\nfunction captureNetwork() {\r\n    captureAjaxError();\r\n    captureFetchError();\r\n    captureWebSocketError();\r\n}\r\nfunction removeCaptureNetwork() {\r\n    removeCaptureAjaxError();\r\n    removeCaptureFetchError();\r\n}\r\nfunction captureScript() {\r\n    var global = getGlobal();\r\n    warning(Boolean(global.addEventListener), 'Binding script monitoring failed, the current environment did not find the object `addEventListener`');\r\n    if (!global.addEventListener)\r\n        return;\r\n    captureUncaughtError();\r\n    captureUnhandledrejectionError();\r\n}\r\nfunction removeCaptureScript() {\r\n    removeCaptureUncaughtError();\r\n    removeCaptureUnhandledrejectionError();\r\n}\r\nfunction handleCapture() {\r\n    captureScript();\r\n    captureNetwork();\r\n    captureAction();\r\n    captureConsole();\r\n}\n\nvar global$8 = getGlobal();\r\nfunction handleDestroy() {\r\n    global$8.addEventListener('unload', function () {\r\n        removeCaptureScript();\r\n        removeCaptureNetwork();\r\n        removeCaptureAction();\r\n        removeCaptureConsole();\r\n    }, true);\r\n}\n\nvar extension = createExtension({\r\n    name: 'OhbugBrowser',\r\n    init: function () {\r\n        handleCapture();\r\n        handleDestroy();\r\n    },\r\n});\n\nfunction notifier(event) {\r\n    var client = getOhbugObject().client;\r\n    var url = client._config.endpoint;\r\n    return new Promise(function (resolve, reject) {\r\n        var json = JSON.stringify(event);\r\n        if (navigator.sendBeacon) {\r\n            var result = navigator.sendBeacon(url, json);\r\n            resolve(result);\r\n        }\r\n        else {\r\n            var xhr_1 = new XMLHttpRequest();\r\n            xhr_1.onreadystatechange = function () {\r\n                if (xhr_1.readyState === XMLHttpRequest.DONE) {\r\n                    if (xhr_1.status >= 200 && xhr_1.status < 300)\r\n                        return resolve(xhr_1.response);\r\n                    reject(xhr_1);\r\n                }\r\n            };\r\n            xhr_1.open('POST', url);\r\n            xhr_1.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\r\n            xhr_1.send(json);\r\n        }\r\n    });\r\n}\n\nvar platform = 'browser';\r\nvar version = '1.0.3-alpha.0';\r\nfunction createClient(config) {\r\n    var global = getGlobal();\r\n    var client = new Client({ config: config, device: { platform: platform, version: version }, notifier: notifier });\r\n    global.__OHBUG__ = { client: client };\r\n    client.use(extension);\r\n    console.log(\"%c @ohbug/browser %c Detected Ohbug v\" + version + \" %c\", 'background:#333; padding: 2px 1px; color: #FFF', 'background:#FF6F61; padding: 2px 1px; color: #FFF', 'background:transparent');\r\n    return client;\r\n}\r\nvar BrowserClient = {\r\n    _client: null,\r\n    init: function (config) {\r\n        var _a;\r\n        if (BrowserClient._client) {\r\n            (_a = BrowserClient._client._logger) === null || _a === void 0 ? void 0 : _a.log('init() has been called. Ignored.');\r\n            return BrowserClient._client;\r\n        }\r\n        BrowserClient._client = createClient(config);\r\n        return BrowserClient._client;\r\n    },\r\n};\n\nexport default BrowserClient;\nexport { types };\n"],"sourceRoot":""}